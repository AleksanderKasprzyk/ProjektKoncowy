<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NBP data</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">

              <li class="nav-item">
              <a class="nav-link {{ 'active text-decoration-underline' if active_page == '/' else '' }}" href="{{ url_for('home_page') }}">Home page</a>
              </li>
              <li class="nav-item">
              <a class="nav-link {{ 'active text-decoration-underline' if active_page == '/register_user' else '' }}" href="{{ url_for('register') }}">Register user</a>
              </li>
              <li class="nav-item">
              <a class="nav-link {{ 'active text-decoration-underline' if active_page == '/login_user' else '' }}" href="{{ url_for('login') }}">Login user</a>
              </li>
              <li class="nav-item">
              <a class="nav-link {{ 'active text-decoration-underline' if active_page == '/personal_wallet' else '' }}" href="{{ url_for('bank_wallet') }}">Personal wallet</a>
              </li>
              <li class="nav-item">
              <a class="nav-link {{ 'active text-decoration-underline' if active_page == '/account_balance_operations.html' else '' }}" href="{{ url_for('account') }}">Your balance</a>
              </li>
              <li class="nav-item">
              <a class="nav-link {{ 'active text-decoration-underline' if active_page == '/nbp_data' else '' }}" href="{{ url_for('nbp_data') }}">NBP data</a>
              </li>
              <li class="nav-item">
              <a class="nav-link {{ 'active text-decoration-underline' if active_page == '' else '' }}" href="http://api.nbp.pl/">API NBP</a>
              </li>
              <li class="nav-item">
              <a class="nav-link {{ 'active text-decoration-underline' if active_page == '/logout_user' else '' }}" href="{{ url_for('logout') }}">Logout</a>
              </li>

          </ul>
        </div>
      </div>
    </nav>

    {% with messages = get_flashed_messages() %}  {# Kod pozwala na wyświetlenie wiadomości z funkcji flash #}
        {% if messages %}
            <ul>
            {% for message in messages %}

                    {{ message }}

            {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}


    <label for="operation_buy" class="form-label">Buy operations:</label> <button type="submit" class="btn btn-primary" id="operation_buy" onclick="showBuyField()">Buy</button>

    <div class="container w-50">
    <div class="d-flex flex-column">
    <div id="buyCurrencyField" style="display: none;">
    <div class="mb-3">
    <label class="form-label" for="currency_code_buy">Input currency code (three letters):</label><input type="text" class="form-control" name="currency code" id="currency_code_buy" required><br>
    <label class="form-label" for="type_table_buy">Input type of table (A, B or C):</label><input type="text" class="form-control" name="type table" id="type_table_buy" required><br>
    </div>
    <button type="button" class="btn btn-primary">Buy currency</button>
    </div>
    </div>
    </div>

    <script>
        function showBuyField() {var field = document.getElementById('buyCurrencyField');
            if (field.style.display === 'none') { field.style.display = 'block';} else { field.style.display = 'none'; } }
    </script>

    <label for="operation_sell">Sell operations:</label> <button type="submit" class="btn btn-primary" id="operation_sell" onclick="showSellField()">Sell</button>


    <div id="sellCurrencyField" style="display: none;">
    <label class="form-label" for="sell_currency_code">Input currency code (three letters):</label><input type="text" class="form-control" name="currency code" id="sell_currency_code" required><br>
    <label class="form-label" for="sell_type_table">Input type of table (A, B or C):</label><input type="text" class="form-control" name="type table" id="sell_type_table" required><br>

    <button type="button" class="btn btn-primary">Sell currency</button>
    </div>

    <script>
        function showSellField() {var field = document.getElementById('sellCurrencyField');
            if (field.style.display === 'none') { field.style.display = 'block';} else { field.style.display = 'none'; } }
    </script>

    {{ account_balance }}
    {{ answer }}

</body>
</html>